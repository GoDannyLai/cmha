2016/01/04 09:34:12 [demote.go:44] [I]  Create consul-api client success! 
2016/01/04 09:34:12 [demote.go:54] [I] Health check execution nodes and services /v1/health/service/innosql?tag=slave success! 
2016/01/04 09:34:12 [demote.go:59] [I] tag=slave of innosql service exist! 
2016/01/04 09:34:12 [demote.go:89] [I] slave status is warning! 
2016/01/04 09:35:12 [set.go:115] [I] Connection to the database success! 
2016/01/04 09:35:12 [set.go:123] [I] ping() database success! 
2016/01/04 09:35:12 [set.go:131] [I] Inquiry slave status success! 
2016/01/04 09:35:12 [set.go:151] [E] IO copy the thread is not normal!  
2016/01/04 09:35:12 [set.go:37] [I]  Create consul-api client success! 
2016/01/04 09:35:12 [set.go:59] [I] monitor/rhel64-mysql2 put success! 
2016/01/04 09:35:12 [set.go:83] [I] Connection to the database success! 
2016/01/04 09:35:12 [set.go:87] [E] ping() database  failure! dial tcp 127.0.0.1:3306: connection refused 
2016/01/04 09:42:00 [demote.go:44] [I]  Create consul-api client success! 
2016/01/04 09:42:00 [demote.go:54] [I] Health check execution nodes and services /v1/health/service/innosql?tag=slave success! 
2016/01/04 09:42:00 [demote.go:59] [I] tag=slave of innosql service exist! 
2016/01/04 09:42:00 [demote.go:89] [I] slave status is warning! 
2016/01/04 09:46:56 [demote.go:44] [I]  Create consul-api client success! 
2016/01/04 09:46:56 [demote.go:54] [I] Health check execution nodes and services /v1/health/service/innosql?tag=master success! 
2016/01/04 09:46:56 [demote.go:59] [I] tag=master of innosql service exist! 
2016/01/04 09:46:56 [demote.go:86] [I] master status is passing! 
2016/01/04 09:47:36 [demote.go:44] [I]  Create consul-api client success! 
2016/01/04 09:47:36 [demote.go:54] [I] Health check execution nodes and services /v1/health/service/innosql?tag=master success! 
2016/01/04 09:47:36 [demote.go:59] [I] tag=master of innosql service exist! 
2016/01/04 09:47:36 [demote.go:89] [I] master status is warning! 
2016/01/04 09:48:36 [set.go:116] [I] Connection to the database success! 
2016/01/04 09:48:36 [set.go:124] [I] ping() database success! 
2016/01/04 09:48:36 [set.go:132] [I] Inquiry slave status success! 
2016/01/04 09:48:36 [set.go:152] [E] IO copy the thread is not normal!  
2016/01/04 09:48:36 [set.go:38] [I]  Create consul-api client success! 
2016/01/04 09:48:36 [set.go:60] [I] monitor/rhel64-mysql1 put success! 
2016/01/04 09:48:36 [set.go:84] [I] Connection to the database success! 
2016/01/04 09:48:36 [set.go:88] [E] ping() database  failure! dial tcp 127.0.0.1:3306: connection refused 
2016/01/04 09:50:34 [demote.go:44] [I]  Create consul-api client success! 
2016/01/04 09:50:34 [demote.go:54] [I] Health check execution nodes and services /v1/health/service/innosql?tag=master success! 
2016/01/04 09:50:34 [demote.go:59] [I] tag=master of innosql service exist! 
2016/01/04 09:50:34 [demote.go:89] [I] master status is warning! 
2016/01/04 09:51:34 [set.go:116] [I] Connection to the database success! 
2016/01/04 09:51:34 [set.go:124] [I] ping() database success! 
2016/01/04 09:51:34 [set.go:132] [I] Inquiry slave status success! 
2016/01/04 09:51:34 [set.go:152] [E] IO copy the thread is not normal!  
2016/01/04 09:51:34 [set.go:38] [I]  Create consul-api client success! 
2016/01/04 09:51:34 [set.go:60] [I] monitor/rhel64-mysql1 put success! 
2016/01/04 09:51:34 [set.go:84] [I] Connection to the database success! 
2016/01/04 09:51:34 [set.go:88] [E] ping() database  failure! dial tcp 127.0.0.1:3306: connection refused 
2016/01/04 09:54:18 [demote.go:44] [I]  Create consul-api client success! 
2016/01/04 09:54:18 [demote.go:54] [I] Health check execution nodes and services /v1/health/service/innosql?tag=master success! 
2016/01/04 09:54:18 [demote.go:59] [I] tag=master of innosql service exist! 
2016/01/04 09:54:18 [demote.go:89] [I] master status is warning! 
2016/01/04 09:55:18 [set.go:117] [I] Connection to the database success! 
2016/01/04 09:55:18 [set.go:125] [I] ping() database success! 
2016/01/04 09:55:18 [set.go:133] [I] Inquiry slave status success! 
2016/01/04 09:55:18 [set.go:153] [E] IO copy the thread is not normal!  
2016/01/04 09:55:18 [set.go:38] [I]  Create consul-api client success! 
2016/01/04 09:55:18 [set.go:60] [I] monitor/rhel64-mysql1 put success! 
2016/01/04 09:55:18 [set.go:61] [I] aaaaaaaaaaaaaaa 
2016/01/04 09:55:18 [set.go:63] [I] bbbbbbbbbbbbbb 
2016/01/04 09:55:18 [set.go:68] [I] Get a service/innosql/leader key success! 
2016/01/04 09:55:18 [set.go:85] [I] Connection to the database success! 
2016/01/04 09:55:18 [set.go:89] [E] ping() database  failure! dial tcp 127.0.0.1:3306: connection refused 
2016/01/04 09:56:18 [demote.go:44] [I]  Create consul-api client success! 
2016/01/04 09:56:18 [demote.go:54] [I] Health check execution nodes and services /v1/health/service/innosql?tag=master success! 
2016/01/04 09:56:18 [demote.go:59] [I] tag=master of innosql service exist! 
2016/01/04 09:56:18 [demote.go:89] [I] master status is warning! 
2016/01/04 09:57:18 [set.go:115] [I] Connection to the database success! 
2016/01/04 09:57:18 [set.go:123] [I] ping() database success! 
2016/01/04 09:57:18 [set.go:131] [I] Inquiry slave status success! 
2016/01/04 09:57:18 [set.go:151] [E] IO copy the thread is not normal!  
2016/01/04 09:57:18 [set.go:38] [I]  Create consul-api client success! 
2016/01/04 09:57:18 [set.go:60] [I] monitor/rhel64-mysql2 put success! 
2016/01/04 09:57:18 [set.go:66] [I] Get a service/innosql/leader key success! 
2016/01/04 09:57:18 [set.go:71] [I] 192.168.2.107 not leader 
2016/01/04 09:57:57 [demote.go:44] [I]  Create consul-api client success! 
2016/01/04 09:57:57 [demote.go:54] [I] Health check execution nodes and services /v1/health/service/innosql?tag=master success! 
2016/01/04 09:57:57 [demote.go:59] [I] tag=master of innosql service exist! 
2016/01/04 09:57:57 [demote.go:89] [I] master status is warning! 
2016/01/04 09:58:57 [set.go:115] [I] Connection to the database success! 
2016/01/04 09:58:57 [set.go:123] [I] ping() database success! 
2016/01/04 09:58:57 [set.go:131] [I] Inquiry slave status success! 
2016/01/04 09:58:57 [set.go:151] [E] IO copy the thread is not normal!  
2016/01/04 09:58:57 [set.go:38] [I]  Create consul-api client success! 
2016/01/04 09:58:57 [set.go:60] [I] monitor/rhel64-mysql2 put success! 
2016/01/04 09:58:57 [set.go:66] [I] Get a service/innosql/leader key success! 
2016/01/04 09:58:57 [set.go:71] [I] 192.168.2.107 not leader 
2016/01/04 10:00:54 [demote.go:44] [I]  Create consul-api client success! 
2016/01/04 10:00:54 [demote.go:54] [I] Health check execution nodes and services /v1/health/service/innosql?tag=master success! 
2016/01/04 10:00:54 [demote.go:59] [I] tag=master of innosql service exist! 
2016/01/04 10:00:54 [demote.go:130] [I] master status is critical! 
2016/01/04 10:00:54 [demote.go:143] [I] monitor/rhel64-mysql1 put success! 
2016/01/04 10:01:54 [set.go:115] [I] Connection to the database success! 
2016/01/04 10:01:54 [set.go:119] [E] ping() database  failure! dial tcp 192.168.2.107:3306: connection refused 
2016/01/04 10:01:54 [set.go:38] [I]  Create consul-api client success! 
2016/01/04 10:01:54 [set.go:60] [I] monitor/rhel64-mysql1 put success! 
2016/01/04 10:01:54 [set.go:66] [I] Get a service/innosql/leader key success! 
2016/01/04 10:01:54 [set.go:83] [I] Connection to the database success! 
2016/01/04 10:01:54 [set.go:87] [E] ping() database  failure! dial tcp 127.0.0.1:3306: connection refused 
2016/01/04 20:43:26 [demotebak.go:44] [I]  Create consul-api client success! 
2016/01/04 20:43:26 [demotebak.go:54] [I] Health check execution nodes and services /v1/health/service/innosql?tag=master success! 
2016/01/04 20:43:26 [demotebak.go:59] [I] tag=master of innosql service exist! 
2016/01/04 20:43:26 [demotebak.go:101] [I] master status is critical! 
2016/01/04 20:43:26 [demotebak.go:114] [I] monitor/rhel64-mysql1 put success! 
2016/01/04 20:44:26 [setbak.go:137] [I] Connection to the database success! 
2016/01/04 20:44:26 [setbak.go:141] [E] ping() database  failure! dial tcp 192.168.2.107:3306: connection refused 
2016/01/04 20:44:26 [setbak.go:37] [I]  Create consul-api client success! 
2016/01/04 20:44:26 [setbak.go:60] [I] monitor/rhel64-mysql1 put success! 
2016/01/04 20:44:26 [setbak.go:66] [I] Get a service/innosql/leader key success! 
2016/01/04 20:44:26 [setbak.go:78] [I] Get innosql status success! 
2016/01/04 20:44:26 [setbak.go:83] [I] 192.168.2.108 192.168.2.108 
2016/01/04 20:44:26 [setbak.go:105] [I] Connection to the database success! 
2016/01/04 20:44:26 [setbak.go:109] [E] ping() database  failure! dial tcp 127.0.0.1:3306: connection refused 
2016/01/04 20:45:43 [demotebak.go:44] [I]  Create consul-api client success! 
2016/01/04 20:45:43 [demotebak.go:54] [I] Health check execution nodes and services /v1/health/service/innosql?tag=slave success! 
2016/01/04 20:45:43 [demotebak.go:59] [I] tag=slave of innosql service exist! 
2016/01/04 20:45:43 [demotebak.go:89] [I] slave status is warning! 
2016/01/04 20:46:43 [setbak.go:137] [I] Connection to the database success! 
2016/01/04 20:46:43 [setbak.go:145] [I] ping() database success! 
2016/01/04 20:46:43 [setbak.go:153] [I] Inquiry slave status success! 
2016/01/04 20:46:43 [setbak.go:173] [E] IO copy the thread is not normal!  
2016/01/04 20:46:43 [setbak.go:37] [I]  Create consul-api client success! 
2016/01/04 20:46:43 [setbak.go:60] [I] monitor/rhel64-mysql2 put success! 
2016/01/04 20:46:43 [setbak.go:66] [I] Get a service/innosql/leader key success! 
2016/01/04 20:46:43 [setbak.go:70] [I] 192.168.2.107 not leader 
2016/01/04 21:04:01 [demotebak.go:44] [I]  Create consul-api client success! 
2016/01/04 21:04:01 [demotebak.go:54] [I] Health check execution nodes and services /v1/health/service/innosql?tag=slave success! 
2016/01/04 21:04:01 [demotebak.go:59] [I] tag=slave of innosql service exist! 
2016/01/04 21:04:01 [demotebak.go:86] [I] slave status is passing! 
2016/01/04 21:05:01 [demotebak.go:44] [I]  Create consul-api client success! 
2016/01/04 21:05:01 [demotebak.go:54] [I] Health check execution nodes and services /v1/health/service/innosql?tag=slave success! 
2016/01/04 21:05:01 [demotebak.go:59] [I] tag=slave of innosql service exist! 
2016/01/04 21:05:01 [demotebak.go:89] [I] slave status is warning! 
2016/01/04 21:06:01 [setbak.go:137] [I] Connection to the database success! 
2016/01/04 21:06:01 [setbak.go:145] [I] ping() database success! 
2016/01/04 21:06:01 [setbak.go:153] [I] Inquiry slave status success! 
2016/01/04 21:06:01 [setbak.go:173] [E] IO copy the thread is not normal!  
2016/01/04 21:06:01 [setbak.go:37] [I]  Create consul-api client success! 
2016/01/04 21:06:01 [setbak.go:60] [I] monitor/rhel64-mysql2 put success! 
2016/01/04 21:06:01 [setbak.go:66] [I] Get a service/innosql/leader key success! 
2016/01/04 21:06:01 [setbak.go:78] [I] Get innosql status success! 
2016/01/04 21:06:01 [setbak.go:83] [I] 192.168.2.107 192.168.2.107 
2016/01/04 21:06:01 [setbak.go:105] [I] Connection to the database success! 
2016/01/04 21:06:01 [setbak.go:109] [E] ping() database  failure! dial tcp 127.0.0.1:3306: connection refused 
2016/01/04 21:23:48 [demotebak.go:44] [I]  Create consul-api client success! 
2016/01/04 21:23:48 [demotebak.go:54] [I] Health check execution nodes and services /v1/health/service/innosql?tag=slave success! 
2016/01/04 21:23:48 [demotebak.go:59] [I] tag=slave of innosql service exist! 
2016/01/04 21:23:48 [demotebak.go:89] [I] slave status is warning! 
2016/01/04 21:24:48 [setbak.go:134] [I] Connection to the database success! 
2016/01/04 21:24:48 [setbak.go:142] [I] ping() database success! 
2016/01/04 21:24:48 [setbak.go:150] [I] Inquiry slave status success! 
2016/01/04 21:24:48 [setbak.go:170] [E] IO copy the thread is not normal!  
2016/01/04 21:24:48 [setbak.go:37] [I]  Create consul-api client success! 
2016/01/04 21:24:48 [setbak.go:60] [I] monitor/rhel64-mysql2 put success! 
2016/01/04 21:24:48 [setbak.go:66] [I] Get a service/innosql/leader key success! 
2016/01/04 21:24:48 [setbak.go:78] [I] Get innosql status success! 
2016/01/04 21:24:48 [setbak.go:82] [I] 192.168.2.107 192.168.2.107 
2016/01/04 21:24:48 [setbak.go:95] [I] 192.168.2.107 status no critical 
2016/01/04 21:24:48 [setbak.go:102] [I] Connection to the database success! 
2016/01/04 21:24:48 [setbak.go:106] [E] ping() database  failure! dial tcp 127.0.0.1:3306: connection refused 
2016/01/05 05:51:34 [demotebak.go:18] [I] Monitor Handler Triggered 
2016/01/05 05:51:44 [demotebak.go:43] [I]  Create consul-api client successfully! 
2016/01/05 05:51:44 [demotebak.go:54] [I] Get peer database health status from CS successfully! 
2016/01/05 05:51:44 [demotebak.go:62] [I] Peer database service exist in CS! 
2016/01/05 05:51:44 [demotebak.go:94] [I] Warning! Peer database rhel64-mysql2 replicaton error. Service health status is warning in CS  
2016/01/05 05:51:44 [demotebak.go:102] [I] Current switch_async value is on 
2016/01/05 05:51:44 [setbak.go:146] [I] Monitor Handler Sleep 60s! 
2016/01/05 05:51:44 [setbak.go:147] [I] Connecting to peer database...... 
2016/01/05 05:52:44 [setbak.go:157] [I] Create connection object to peer database successfully! 
2016/01/05 05:52:44 [setbak.go:165] [I] Connected to the peer database successfully! 
2016/01/05 05:52:44 [setbak.go:172] [I] Checking peer database I/O thread status. Successfully! 
2016/01/05 05:52:44 [setbak.go:194] [E] The I/O thread status is No! 
2016/01/05 05:52:44 [setbak.go:14] [I] Set peer database repl_err_counter to 1 in CS 
2016/01/05 05:52:44 [setbak.go:36] [I] Create consul-api client successfully! 
2016/01/05 05:52:44 [setbak.go:55] [I] Set peer database repl_err_counter to 1 in CS successfully! 
2016/01/05 05:52:44 [setbak.go:63] [I] Get and check current service leader from CS successfully! 
2016/01/05 05:52:44 [setbak.go:72] [I] 192.168.2.107 is service leader! 
2016/01/05 05:52:44 [setbak.go:80] [I] Get peer database health status from CS successfully! 
2016/01/05 05:52:44 [setbak.go:106] [I] 192.168.2.107 service health status is warning 
2016/01/05 05:52:44 [setbak.go:115] [I] Create connection object to peer database successfully! 
2016/01/05 05:52:44 [setbak.go:119] [E] Connected to the peer database failed! dial tcp 127.0.0.1:3306: connection refused 
2016/01/05 05:52:44 [setbak.go:120] [I] Give up switching to async replication 
2016/01/05 05:52:44 [setbak.go:121] [I] Monitor Handler Completed 
2016/01/05 09:45:48 [demote.go:18] [I] Monitor Handler Triggered 
